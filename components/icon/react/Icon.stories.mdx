import { useState } from 'react';
import Select from 'react-select';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { iconsMetadata } from '@cypress-design/icon-registry';

import { Icon } from './Icon'

# Icon

<Meta
  title="Icon"
  component={Icon}
  argTypes={{
    name: {
      defaultValue: 'book',
      options: Object.keys(iconsMetadata),
      control: { type: 'select' },
    },
    size: {
      options: ['8', '16', '24', '48', '120'],
      control: { type: 'select' },
    },
    strokeColor: {
      options: ['blue', 'jade', 'red', 'indigo', 'purple', 'gray', 'black'].map(col => `${col}-500`),
      control: { type: 'select' },
    },
    fillColor: {
      options: ['blue', 'jade', 'red', 'indigo', 'purple', 'gray', 'black'].map(col => `${col}-100`),
      control: { type: 'select' },
    },
  }}
/>

<ArgsTable/>

<Canvas>
  <Story name="Icon">
    {(args) => {
      if(!iconsMetadata[args.name]?.availableSizes.includes(args.size)) {
        return <p className="text-red-500 bg-red-100">Not available at this size</p>
      }
      return <Icon {...args} className="m-2"/>
    }}
  </Story>
</Canvas>

## Usage

The simple way using the Icon component

```tsx
import { Icon } from '@cypress-design/react-icon'

export const MyButtonWithIcon = () => {
  return (<button>
    <Icon name="book" size="16" strokeColor="blue-600" fillColor="red-200" className="bg-red-100" />Read
  </button>)
}
```

The tree-shakable way (more optimized)

```tsx
import { IconBook } from '@cypress-design/react-icon'

export const MyButtonWithIcon = () => {
  return (<button>
    <IconBook size="16" strokeColor="blue-600" fillColor="red-200" />
  </button>)
}
```